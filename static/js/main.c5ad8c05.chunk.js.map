{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/PopupWithForm.js","components/DeleteCardPopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","images/popup-fail.jpg","components/InfoTooltip.js","images/popup-ok.jpg","components/Register.js","components/Login.js","components/MainRoute.js","components/ProtectedRoute.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","useState","isMenu","setIsMenu","className","href","exact","path","email","to","onClick","onSignout","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","_id","card","owner","isLiked","likes","some","like","src","link","alt","name","onCardClick","onCardLike","type","aria-label","length","onCardDelete","Main","cards","onEditAvatar","onAddPlace","onEditProfile","avatar","about","map","Footer","Popup","isOpen","onClose","React","useEffect","handleEscapeClose","event","key","document","addEventListener","removeEventListener","onMouseDown","e","target","classList","contains","children","PopupWithForm","action","noValidate","onSubmit","title","DeleteCardPopup","onDeleteCard","bind","EditProfilePopup","onUpdateUser","setName","description","setDescription","validDescription","setValidDescription","validName","setValidName","valid","setValid","isChange","setIsChange","validMessageName","setValidMessageName","validMessageDescription","setValidMessageDescription","preventDefault","maxLength","minLength","required","id","placeholder","value","onChange","validity","validationMessage","disabled","EditAvatarPopup","onUpdateAvatar","validMessage","setValidMessage","setLink","AddPlacePopup","validLink","setValidLink","validMessageLink","setValidMessageLink","ImagePopup","InfoToolTip","status","imageFail","Register","setEmail","password","setPassword","popupMessage","setPopupMessage","isRegisterPopup","setIsRegisterPopup","submitStatus","setSubmitStatus","history","useHistory","loggedIn","push","onRegister","then","catch","message","finally","Login","isLoginPopup","setIsLoginPopup","onLogin","console","error","setLoggedIn","MainRoute","isChecked","ProtectedRoute","Component","component","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","fetch","_getResponseData","data","method","body","JSON","stringify","authorization","auth","baseURL","jwt","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopup","setIsDeleteCardPopup","selectedCard","setSelectedCard","setCurrentUser","setCards","user","setUser","setIsChecked","closeAllPopups","localStorage","getItem","getUserData","checkToken","getInitialCards","Provider","clear","register","login","setItem","token","switchLike","newCard","newCards","c","setUserData","userData","addCard","url","addAvatar","evt","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"8NA+BeA,MA5Bf,SAAgBC,GAAQ,IAAD,EACOC,oBAAS,GADhB,mBACdC,EADc,KACNC,EADM,KAMrB,OACE,yBAAQC,UAAS,iBAAYF,GAAU,oBAAvC,UACE,mBAAGG,KAAK,uCAAuCD,UAAU,eAAzD,eACA,eAAC,IAAD,CAAOE,OAAK,EAACC,KAAK,IAAlB,UACE,sBAAKH,UAAU,sBAAf,UACCJ,EAAMQ,OAAS,mBAAGJ,UAAU,gBAAb,SAA8BJ,EAAMQ,QACnDR,EAAMQ,OAAS,cAAC,IAAD,CAAMJ,UAAU,mBAAmBK,GAAG,WAAWC,QAASV,EAAMW,UAAhE,+CAEhB,qBAAKP,UAAU,yBAAyBM,QAX9C,WACEP,GAAWD,IAUP,SACE,qBAAKE,UAAS,yBAAoBF,GAAU,gCAGhD,cAAC,IAAD,CAAOI,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,IAAD,CAAMH,UAAU,eAAeK,GAAG,WAAlC,kFAEF,cAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,IAAD,CAAMH,UAAU,eAAeK,GAAG,WAAlC,kDCxBKG,EAAqBC,0BC0CnBC,MAxCf,SAAed,GACb,IAAMe,EAAcC,qBAAWJ,GACzBK,EAAQF,EAAYG,MAAQlB,EAAMmB,KAAKC,MAAMF,KAAO,GACpDG,EAAUrB,EAAMmB,KAAKG,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKN,MAAQH,EAAYG,QAAQ,GAW/E,OACE,qBAAId,UAAU,OAAd,UACE,qBAAKA,UAAU,sBAAf,SACE,qBAAKqB,IAAKzB,EAAMmB,KAAKO,KAAMC,IAAK3B,EAAMmB,KAAKS,KAAMxB,UAAU,cAAcM,QAb/E,WACEV,EAAM6B,YAAY7B,EAAMmB,WActB,sBAAKf,UAAU,sBAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BJ,EAAMmB,KAAKS,OACxC,sBAAKxB,UAAU,qBAAf,UACE,wBACEA,UAAS,qBAAgBiB,GAAW,qBACpCX,QAjBV,WACEV,EAAM8B,WAAW9B,EAAMmB,KAAME,IAiBrBU,KAAK,SACLC,aAAW,6BAEb,sBAAM5B,UAAU,mBAAhB,SAAoCJ,EAAMmB,KAAKG,MAAMW,eAGzD,wBACE7B,UAAS,uBAAkBa,GAAS,qBACpCc,KAAK,SACLrB,QAxBN,WACEV,EAAMkC,aAAalC,EAAMmB,OAwBrBa,aAAW,oGCKJG,MAvCf,YAA2G,IAA1FC,EAAyF,EAAzFA,MAAON,EAAkF,EAAlFA,WAAYI,EAAsE,EAAtEA,aAAcL,EAAwD,EAAxDA,YAAaQ,EAA2C,EAA3CA,aAAcC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,cACjFxB,EAAcC,qBAAWJ,GAE/B,OACE,sBAAKR,UAAU,OAAf,UACM,0BAASA,UAAU,UAAnB,UACE,wBAAQA,UAAU,uBAAuBM,QAAS2B,EAAlD,SACE,qBAAKZ,IAAKV,EAAYyB,OAAQb,IAAI,gHAAsBvB,UAAU,sBAEpE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BW,EAAYa,OAC3C,wBAAQxB,UAAU,gBAAgB2B,KAAK,SAASC,aAAW,4HAAwBtB,QAAS6B,OAE9F,mBAAGnC,UAAU,uBAAb,SAAqCW,EAAY0B,WAEnD,wBAAQrC,UAAU,eAAe2B,KAAK,SAASC,aAAW,oGAAoBtB,QAAS4B,OAGzF,yBAASlC,UAAU,UAAnB,SAEE,oBAAIA,UAAU,gBAAd,SACGgC,EAAMM,KAAI,SAAAvB,GACT,OACE,cAAC,EAAD,CACEA,KAAMA,EACNU,YAAaA,EACbC,WAAYA,EACZI,aAAcA,GACTf,EAAKD,gBC1BfyB,MAPf,WACE,OACE,wBAAQvC,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,uCCgCSwC,MAjCf,SAAgB5C,GAAQ,IAAD,EACK,CAACA,EAAM6C,OAAQ7C,EAAM8C,SAAxCD,EADc,KACNC,EADM,KAerB,OAbAC,IAAMC,WAAU,WACd,GAAKH,EAAL,CACA,IAAMI,EAAoB,SAACC,GACP,WAAdA,EAAMC,KACRL,KAIJ,OADAM,SAASC,iBAAiB,UAAWJ,GAC9B,WACLG,SAASE,oBAAoB,UAAWL,OAEzC,CAACJ,EAAQC,IAGV,yBACE1C,UAAS,sBAAiBJ,EAAM4B,KAAvB,YAA+BiB,GAAU,cAClDU,YAAa,SAAAC,GAAC,OAAIA,EAAEC,OAAOC,UAAUC,SAAS,UAAYb,KAF5D,SAIE,sBAAK1C,UAAU,iBAAf,UACCJ,EAAM4D,SACL,wBACExD,UAAS,oCAA+BJ,EAAM4B,MAC9ClB,QAASoC,EACTf,KAAK,SACLC,aAAW,oFCAN6B,MAxBf,SAAuB7D,GAAQ,IAAD,EACF,CAACA,EAAM6C,OAAQ7C,EAAM8C,SAAxCD,EADqB,KACbC,EADa,KAG5B,OACE,cAAC,EAAD,CACED,OAAQA,EACRC,QAASA,EACTlB,KAAM5B,EAAM4B,KAHd,SAKE,uBACEkC,OAAO,IACP1D,UAAS,kCAA6BJ,EAAM4B,MAC5CA,KAAI,UAAK5B,EAAM4B,KAAX,SACJmC,YAAU,EACVC,SAAUhE,EAAMgE,SALlB,UAOE,oBAAI5D,UAAU,eAAd,SAA8BJ,EAAMiE,QACnCjE,EAAM4D,eCNAM,MAbf,YAA2D,IAAhC/C,EAA+B,EAA/BA,KAAM2B,EAAyB,EAAzBA,QAASqB,EAAgB,EAAhBA,aACxC,OACE,cAAC,EAAD,CACEvC,KAAK,SACLqC,MAAM,2DACNpB,OAAQ1B,EACR2B,QAASA,EACTkB,SAAUG,EAAaC,KAAK,KAAMjD,GALpC,SAOE,wBAAQf,UAAU,gBAAgB2B,KAAK,SAASH,KAAK,eAArD,6BCiFSyC,MAvFf,YAA8D,IAAlCxB,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,QAASwB,EAAgB,EAAhBA,aACrCvD,EAAcC,qBAAWJ,GAD4B,EAEnCX,mBAAS,IAF0B,mBAEpD2B,EAFoD,KAE9C2C,EAF8C,OAGrBtE,mBAAS,IAHY,mBAGpDuE,EAHoD,KAGvCC,EAHuC,OAIXxE,oBAAS,GAJE,mBAIpDyE,EAJoD,KAIlCC,EAJkC,OAKzB1E,oBAAS,GALgB,mBAKpD2E,EALoD,KAKzCC,EALyC,OAMjC5E,oBAAS,GANwB,mBAMpD6E,EANoD,KAM7CC,EAN6C,OAO3B9E,oBAAS,GAPkB,mBAOpD+E,EAPoD,KAO1CC,EAP0C,OAQXhF,mBAAS,IARE,mBAQpDiF,EARoD,KAQlCC,EARkC,OASGlF,mBAAS,IATZ,mBASpDmF,EAToD,KAS3BC,EAT2B,KAgD3D,OArCArC,qBAAU,WACRuB,EAAQ,GAAD,OAAIxD,EAAYa,OACvB6C,EAAe,GAAD,OAAI1D,EAAY0B,QAC9BsC,GAAS,GACTE,GAAY,GACZJ,GAAa,GACbF,GAAoB,GACpBQ,EAAoB,IACpBE,EAA2B,MAC1B,CAACtE,EAAa8B,IAEjBG,qBAAU,WACR+B,EAASH,GAAaF,KACrB,CAACE,EAAWF,EAAkBM,IAyB/B,eAAC,EAAD,CACEpD,KAAK,UACLqC,MAAM,4HACNpB,OAAQA,EACRC,QAASA,EACTkB,SAdJ,SAAsBR,GACpBA,EAAE8B,iBACFhB,EAAa,CACX1C,OACAa,MAAO+B,KAKT,UAOE,uBAAOzC,KAAK,OACVH,KAAK,aACLxB,UAAU,2CACVmF,UAAU,KACVC,UAAU,IACVC,UAAQ,EACRC,GAAG,eACHC,YAAY,qBACZC,MAAOhE,EACPiE,SAvCN,SAAsBrC,GACpBe,EAAQf,EAAEC,OAAOmC,OACjBf,EAAarB,EAAEC,OAAOqC,SAAShB,OAC/BG,GAAY,GACZE,EAAoB3B,EAAEC,OAAOsC,mBAAqB,OAoChD,sBAAM3F,UAAU,eAAesF,GAAG,qBAAlC,SAAwDR,IACxD,uBAAOnD,KAAK,OACVH,KAAK,oBACLxB,UAAU,kDACVmF,UAAU,MACVC,UAAU,IACVC,UAAQ,EACRC,GAAG,sBACHC,YAAY,8FACZC,MAAOpB,EACPqB,SA3CN,SAA6BrC,GAC3BiB,EAAejB,EAAEC,OAAOmC,OACxBjB,EAAoBnB,EAAEC,OAAOqC,SAAShB,OACtCG,GAAY,GACZI,EAA2B7B,EAAEC,OAAOsC,sBAwClC,sBAAM3F,UAAU,eAAesF,GAAG,4BAAlC,SAA+DN,IAC/D,wBACEhF,UAAS,wBAAmB0E,EAAQ,GAAK,0BACzC/C,KAAK,SACLH,KAAK,eACLoE,UAAWlB,EAJb,wEC/BSmB,MAjDf,YAA8D,IAAnCpD,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,QAASoD,EAAiB,EAAjBA,eAAiB,EACjCjG,oBAAS,GADwB,mBACpD6E,EADoD,KAC7CC,EAD6C,OAEnB9E,mBAAS,IAFU,mBAEpDkG,EAFoD,KAEtCC,EAFsC,OAGnCnG,mBAAS,IAH0B,mBAGpDyB,EAHoD,KAG9C2E,EAH8C,KAsB3D,OAjBArD,qBAAU,WACR+B,GAAS,GACTsB,EAAQ,IACRD,EAAgB,MACf,CAACvD,IAcF,eAAC,EAAD,CACMjB,KAAK,aACLqC,MAAM,wFACNpB,OAAQA,EACRC,QAASA,EACTkB,SAjBR,SAAsBR,GACpBA,EAAE8B,iBACFY,EAAexE,IAUf,UAOM,uBAAOK,KAAK,MACV0D,UAAQ,EACR7D,KAAK,cACLxB,UAAU,iDACVuF,YAAY,yFACZD,GAAG,cACHE,MAAOlE,EACPmE,SArBV,SAAkBrC,GAChB6C,EAAQ7C,EAAEC,OAAOmC,OACjBb,EAASvB,EAAEC,OAAOqC,SAAShB,OAC3BsB,EAAgB5C,EAAEC,OAAOsC,sBAmBnB,sBAAM3F,UAAU,eAAesF,GAAG,oBAAlC,SAAuDS,IACvD,wBACE/F,UAAS,wBAAmB0E,EAAQ,GAAK,0BACzC/C,KAAK,SACLH,KAAK,eACLoE,UAAWlB,EAJb,wECwCKwB,MA/Ef,YAAyD,IAAhCzD,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,QAASR,EAAc,EAAdA,WAAc,EAC9BrC,mBAAS,IADqB,mBAC/C2B,EAD+C,KACzC2C,EADyC,OAE9BtE,mBAAS,IAFqB,mBAE/CyB,EAF+C,KAEzC2E,EAFyC,OAGpBpG,oBAAS,GAHW,mBAG/CsG,EAH+C,KAGpCC,EAHoC,OAIpBvG,oBAAS,GAJW,mBAI/C2E,EAJ+C,KAIpCC,EAJoC,OAK5B5E,oBAAS,GALmB,mBAK/C6E,EAL+C,KAKxCC,EALwC,OAMN9E,mBAAS,IANH,mBAM/CiF,EAN+C,KAM7BC,EAN6B,OAONlF,mBAAS,IAPH,mBAO/CwG,EAP+C,KAO7BC,EAP6B,KAyCtD,OAhCA1D,qBAAU,WACRuB,EAAQ,IACR8B,EAAQ,IACRxB,GAAa,GACb2B,GAAa,GACbrB,EAAoB,IACpBuB,EAAoB,MACnB,CAAC7D,IAEJG,qBAAU,WACR+B,EAASH,GAAa2B,KACrB,CAAC3B,EAAW2B,IAsBb,eAAC,EAAD,CACM3E,KAAK,YACLqC,MAAM,gEACNpB,OAAQA,EACRC,QAASA,EACTkB,SAdR,SAAmBR,GACjBA,EAAE8B,iBACFhD,EAAW,CACTV,OACAF,UAKF,UAOM,uBAAOK,KAAK,OACVH,KAAK,aACLxB,UAAU,iDACVmF,UAAU,KACVC,UAAU,IACVC,UAAQ,EACRE,YAAY,mDACZD,GAAG,aACHE,MAAOhE,EACPiE,SApCV,SAAsBrC,GACpBe,EAAQf,EAAEC,OAAOmC,OACjBf,EAAarB,EAAEC,OAAOqC,SAAShB,OAC/BK,EAAoB3B,EAAEC,OAAOsC,sBAkCvB,sBAAM3F,UAAU,iCAAiCsF,GAAG,mBAApD,SAAwER,IACxE,uBAAOnD,KAAK,MACV0D,UAAQ,EACR7D,KAAK,aACLxB,UAAU,iDACVuF,YAAY,qGACZD,GAAG,aACHE,MAAOlE,EACPmE,SAxCV,SAAsBrC,GACpB6C,EAAQ7C,EAAEC,OAAOmC,OACjBY,EAAahD,EAAEC,OAAOqC,SAAShB,OAC/B4B,EAAoBlD,EAAEC,OAAOsC,sBAsCvB,sBAAM3F,UAAU,eAAesF,GAAG,mBAAlC,SAAsDe,IACtD,wBACErG,UAAS,wBAAmB0E,EAAQ,GAAK,0BACzC/C,KAAK,SACLH,KAAK,eACLoE,UAAWlB,EAJb,4DCnCK6B,MAnCf,SAAqB3G,GAAQ,IAAD,EACF,CAACA,EAAMmB,KAAMnB,EAAM8C,SAApC3B,EADmB,KACb2B,EADa,KAgB1B,OAbAC,IAAMC,WAAU,WACd,GAAK7B,EAAL,CACA,IAAM8B,EAAoB,SAACC,GACP,WAAdA,EAAMC,KACRL,KAIJ,OADAM,SAASC,iBAAiB,UAAWJ,GAC9B,WACLG,SAASE,oBAAoB,UAAWL,OAEzC,CAAC9B,EAAM2B,IAGR,yBACE1C,UAAS,4BAAuBe,EAAO,aAAe,IACtDT,QAAS,SAAA8C,GAAC,OAAIA,EAAEC,OAAOC,UAAUC,SAAS,UAAYb,KAFxD,SAII,sBAAK1C,UAAU,mBAAf,UACE,qBAAKqB,IAAKN,EAAOA,EAAKO,KAAO,IAAKC,IAAI,0DAAavB,UAAU,iBAC7D,oBAAIA,UAAU,qBAAd,SAAoCe,EAAOA,EAAKS,KAAO,KACvD,wBACExB,UAAU,kCACV2B,KAAK,SACLC,aAAW,sEACXtB,QAASoC,UC9BN,MAA0B,uCCiB1B8D,MAbf,SAAsB5G,GACpB,OACE,eAAC,EAAD,CACE6C,OAAQ7C,EAAM6C,OACdC,QAAS9C,EAAM8C,QACflB,KAAM5B,EAAM4B,KAHd,UAKE,qBAAKH,IAAKzB,EAAM6G,OCXP,8qTDW0BC,EAAWnF,IAAI,GAAGvB,UAAU,sBAC/D,mBAAGA,UAAU,sBAAb,SAAoCJ,EAAM4D,eEoFjCmD,MA5Ff,SAAkB/G,GAAQ,IAAD,EACGC,mBAAS,IADZ,mBAChBO,EADgB,KACTwG,EADS,OAES/G,mBAAS,IAFlB,mBAEhBgH,EAFgB,KAENC,EAFM,OAGiBjH,mBAAS,IAH1B,mBAGhBkH,EAHgB,KAGFC,EAHE,OAIuBnH,oBAAS,GAJhC,mBAIhBoH,EAJgB,KAICC,EAJD,OAKiBrH,oBAAS,GAL1B,mBAKhBsH,EALgB,KAKFC,EALE,KAMnBC,EAAUC,cAmDd,OAjDA1E,qBAAU,WACJhD,EAAM2H,UAAUF,EAAQG,KAAK,OACjC,CAAC5H,EAAM2H,SAAUF,IAgDjB,qCACE,uBAAMrH,UAAU,WAAW4D,SAhC/B,SAAmBR,GACjBA,EAAE8B,iBACFtF,EAAM6H,WAAWrH,EAAOyG,GACrBa,MAAK,WACJN,GAAgB,GAChBJ,EAAgB,4KAEjBW,OAAM,SAAAvE,GACL,OAAQA,EAAEwE,SACR,IAAK,gCACHZ,EAAgB,+JAChB,MACF,IAAK,2JACHA,EAAgB,8LAChB,MACF,IAAK,kDACHA,EAAgB,4JAChB,MACF,IAAK,qOACHA,EAAgB,sOAChB,MACF,QACEA,EAAgB,2MAGrBa,SAAQ,WACPX,GAAmB,OAMrB,UACE,oBAAIlH,UAAU,kBAAd,gFACA,uBACE2B,KAAK,QACL3B,UAAU,kBACVuF,YAAY,QACZC,MAAOpF,EACPqF,SAtDR,SAAwBrC,GACtBwD,EAASxD,EAAEC,OAAOmC,UAuDd,uBACE7D,KAAK,WACL3B,UAAU,qBACVuF,YAAY,uCACZC,MAAOqB,EACPpB,SAzDR,SAA2BrC,GACzB0D,EAAY1D,EAAEC,OAAOmC,UA0DjB,wBAAQxF,UAAU,mBAAlB,0HACA,oBAAGA,UAAU,kBAAb,qIACE,cAAC,IAAD,CAAMA,UAAU,iBAAiBK,GAAG,WAApC,kDAGJ,cAAC,EAAD,CACEoC,OAAQwE,EACRvE,QA9DN,WACEwE,GAAmB,GACfC,GACFE,EAAQG,KAAK,aA4DXhG,KAAK,WACLiF,OAAQU,EAJV,SAMGJ,QCDMe,MArFf,SAAgBlI,GAAQ,IAAD,EACKC,mBAAS,IADd,mBACdO,EADc,KACPwG,EADO,OAEW/G,mBAAS,IAFpB,mBAEdgH,EAFc,KAEJC,EAFI,OAGmBjH,mBAAS,IAH5B,mBAGdkH,EAHc,KAGAC,EAHA,OAImBnH,oBAAS,GAJ5B,mBAIdkI,EAJc,KAIAC,EAJA,OAKmBnI,oBAAS,GAL5B,mBAKdsH,EALc,KAKAC,EALA,KAMjBC,EAAUC,cA+Cd,OA7CA1E,qBAAU,WACJhD,EAAM2H,UAAUF,EAAQG,KAAK,OACjC,CAAC5H,EAAM2H,SAAUF,IA4CjB,qCACA,uBAAMrH,UAAU,WAAW4D,SA3B7B,SAAmBR,GACjBA,EAAE8B,iBACFtF,EAAMqI,QAAQ7H,EAAOyG,GAClBa,MAAK,WACJN,GAAgB,GAChBJ,EAAgB,8FAEjBW,OAAM,SAAAvE,GAEL,OADA8E,QAAQC,MAAM/E,EAAEwE,SACRxE,EAAEwE,SACR,IAAK,sCACHZ,EAAgB,0IAChB,MACF,IAAK,2JACHA,EAAgB,8LAChB,MACF,QACEA,EAAgB,2MAGrBa,SAAQ,WACPG,GAAgB,OAMpB,UACE,oBAAIhI,UAAU,kBAAd,sCACA,uBACE2B,KAAK,QACL3B,UAAU,kBACVuF,YAAY,QACZC,MAAOpF,EACPqF,SAlDN,SAAwBrC,GACtBwD,EAASxD,EAAEC,OAAOmC,UAmDhB,uBACE7D,KAAK,WACL3B,UAAU,qBACVuF,YAAY,uCACZC,MAAOqB,EACPpB,SArDN,SAA2BrC,GACzB0D,EAAY1D,EAAEC,OAAOmC,UAsDnB,wBAAQxF,UAAU,mBAAlB,+CAEF,cAAC,EAAD,CACEyC,OAAQsF,EACRrF,QAvDJ,WACEsF,GAAgB,GAChBpI,EAAMwI,aAAY,GACdjB,GACFE,EAAQG,KAAK,OAoDbhG,KAAK,QACLiF,OAAQU,EAJV,SAMGJ,QCtEQsB,EAVG,SAACzI,GACjB,OACE,cAAC,IAAD,UACG,kBACCA,EAAM0I,UAAY1I,EAAM4D,SAAW,wF,gBCM5B+E,EAVQ,SAAC,GAAwC,IAA3BC,EAA0B,EAArCC,UAAyB7I,EAAY,6BAC7D,OACE,cAAC,IAAD,UACG,kBACCA,EAAM2H,SAAW,cAACiB,EAAD,eAAe5I,IAAY,cAAC,IAAD,CAAUS,GAAG,kB,gBC8ElDqI,EARH,I,WA5EV,WAAYC,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,SAAWJ,EAAQK,Q,6DAGTC,GACb,OAAIA,EAAIC,GAAWD,EAAIE,OAChBC,QAAQC,OAAO,IAAIC,MAAJ,gDAAqBL,EAAIxC,Y,oCAIjD,OAAO8C,MAAM,GAAD,OAAIX,KAAKC,SAAT,YAA6B,CACvCG,QAASJ,KAAKG,WAEbrB,KAAKkB,KAAKY,oB,kCAGHC,GACV,OAAOF,MAAM,GAAD,OAAIX,KAAKC,SAAT,YAA6B,CACvCa,OAAQ,QACRV,QAASJ,KAAKG,SACdY,KAAMC,KAAKC,UAAU,CACnBrI,KAAMiI,EAAKjI,KACXa,MAAOoH,EAAKpH,UAGbqF,KAAKkB,KAAKY,oB,wCAIb,OAAOD,MAAM,GAAD,OAAIX,KAAKC,SAAT,SAA0B,CACpCG,QAASJ,KAAKG,WAEbrB,KAAKkB,KAAKY,oB,8BAGPC,GACN,OAAOF,MAAM,GAAD,OAAIX,KAAKC,SAAT,SAA0B,CACpCa,OAAQ,OACRV,QAASJ,KAAKG,SACdY,KAAMC,KAAKC,UAAU,CACnBrI,KAAMiI,EAAKjI,KACXF,KAAMmI,EAAKnI,SAGZoG,KAAKkB,KAAKY,oB,iCAGJC,GACT,OAAOF,MAAM,GAAD,OAAIX,KAAKC,SAAT,iBAA0BY,EAAK3I,KAAO,CAChD4I,OAAQ,SACRV,QAASJ,KAAKG,WAEbrB,KAAKkB,KAAKY,oB,iCAGJzI,EAAM2I,GACf,OAAOH,MAAM,GAAD,OAAIX,KAAKC,SAAT,uBAAgC9H,EAAKD,KAAO,CACtD4I,OAAQA,EACRV,QAASJ,KAAKG,WAEbrB,KAAKkB,KAAKY,oB,gCAGLC,GACR,OAAOF,MAAM,GAAD,OAAIX,KAAKC,SAAT,mBAAoC,CAC9Ca,OAAQ,QACRV,QAASJ,KAAKG,SACdY,KAAMC,KAAKC,UAAU,CACnB,OAAUJ,MAGX/B,KAAKkB,KAAKY,sB,KAIL,CAAQ,CAClBV,QAAS,+CACTE,QAAS,CACPc,cAAe,uCACf,eAAgB,sBC9BJC,EAFH,I,WA/CX,WAAYC,GAAU,oBACpBpB,KAAKoB,QAAUA,E,6DAGAf,GAEf,OAAIA,EAAIC,GAAWD,EAAIE,OAChBF,EAAIE,OAAOzB,MAAK,SAAAuB,GAAG,OAAIG,QAAQC,OAAO,IAAIC,MAAML,EAAIrB,SAAWqB,EAAId,a,+BAGlE/H,EAAOyG,GACf,OAAO0C,MAAM,GAAD,OAAIX,KAAKoB,QAAT,WAA2B,CACrCN,OAAQ,OACRV,QAAS,CACP,eAAgB,oBAElBW,KAAMC,KAAKC,UAAU,CACnBhD,WACAzG,YAEDsH,KAAKkB,KAAKY,oB,4BAGRpJ,EAAOyG,GACZ,OAAO0C,MAAM,GAAD,OAAIX,KAAKoB,QAAT,WAA2B,CACrCN,OAAQ,OACRV,QAAS,CACP,eAAgB,oBAElBW,KAAMC,KAAKC,UAAU,CACnBhD,WACAzG,YAEDsH,KAAKkB,KAAKY,oB,kCAGFS,GACX,OAAOV,MAAM,GAAD,OAAIX,KAAKoB,QAAT,aAA6B,CACvChB,QAAS,CACP,eAAgB,mBAChB,+BAA4BiB,MAG7BvC,KAAKkB,KAAKY,sB,KAIJ,CAAS,iCC8KPU,MA7Mf,WAAgB,IAAD,EAC+CrK,oBAAS,GADxD,mBACNsK,EADM,KACkBC,EADlB,OAEyCvK,oBAAS,GAFlD,mBAENwK,EAFM,KAEeC,EAFf,OAG6CzK,oBAAS,GAHtD,mBAGN0K,EAHM,KAGiBC,EAHjB,OAIqC3K,oBAAS,GAJ9C,mBAIN4K,EAJM,KAIaC,EAJb,OAK2B7K,oBAAS,GALpC,mBAKN8K,EALM,KAKQC,EALR,OAMyB/K,mBAAS,IANlC,mBAMNc,EANM,KAMOkK,EANP,OAOahL,mBAAS,IAPtB,mBAONmC,EAPM,KAOC8I,EAPD,OAQmBjL,oBAAS,GAR5B,mBAQN0H,EARM,KAQIa,EARJ,OASWvI,mBAAS,IATpB,mBASNkL,GATM,KASAC,GATA,QAUqBnL,oBAAS,GAV9B,qBAUNyI,GAVM,MAUK2C,GAVL,MAwEb,SAASC,KACPZ,GAAuB,GACvBF,GAA0B,GAC1BI,GAAyB,GACzBI,GAAgB,GAChBF,GAAqB,GA0DvB,OAtGA9H,qBAAU,YArBV,WACE,IAAMqH,EAAMkB,aAAaC,QAAQ,OAC9BnB,EACDF,EAAKsB,YAAYpB,GACdvC,MAAK,SAAAuB,GACJb,GAAY,GACZ4C,GAAQ,CACN5K,MAAO6I,EAAIQ,KAAKrJ,MAChBkF,GAAI2D,EAAIQ,KAAK3I,SAGhB6G,OAAM,SAAAvE,GAAC,OAAI8E,QAAQC,MAAM/E,EAAEwE,YAC3BC,SAAQ,WACPoD,IAAa,MAIjBA,IAAa,GAKfK,GACA5C,EAAI2C,cACD3D,KAAKmD,GACLlD,OAAM,SAAAvE,GAAC,OAAI8E,QAAQC,MAAM/E,EAAEwE,YAC9Bc,EAAI6C,kBACD7D,KAAKoD,GACLnD,OAAM,SAAAvE,GAAC,OAAI8E,QAAQC,MAAM/E,EAAEwE,cAC9B,IA+FA,cAACpH,EAAmBgL,SAApB,CAA6BhG,MAAO7E,EAApC,SACE,sBAAKX,UAAU,OAAf,UACE,sBAAKA,UAAU,YAAf,UACE,cAAC,EAAD,CACEI,MAAO2K,GAAK3K,MACZG,UAXV,WACE4K,aAAaM,QACbrD,GAAY,MAWN,cAAC,EAAD,CAAWE,UAAWA,GAAtB,SACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOnI,KAAK,WAAZ,SACE,cAAC,EAAD,CACEsH,WA5Bd,SAAyBrH,EAAOyG,GAC9B,OAAOkD,EAAK2B,SAAStL,EAAOyG,IA4BhBU,SAAUA,MAGd,cAAC,IAAD,CAAOpH,KAAK,WAAZ,SACE,cAAC,EAAD,CAAO8H,QA7BnB,SAAsB7H,EAAOyG,GAC3B,OAAOkD,EAAK4B,MAAMvL,EAAOyG,GACtBa,MAAK,SAAAuB,GACJkC,aAAaS,QAAQ,MAAO3C,EAAI4C,WA0BGtE,SAAUA,EAAUa,YAAaA,MAEhE,cAAC,EAAD,CACEb,SAAUA,EACVpH,KAAK,IACLsI,UAAW1G,EACXI,cAnGZ,WACEiI,GAA0B,IAmGhBlI,WAjGZ,WACEoI,GAAuB,IAiGbrI,aAxGZ,WACEuI,GAAyB,IAwGf/I,YAhGZ,SAAyBV,GACvB6J,EAAgB7J,IAgGNiB,MAAOA,EACPN,WAtHZ,SAAyBX,EAAME,GAC7B,IAAMyI,EAASzI,EAAU,SAAW,MACpCyH,EAAIoD,WAAW/K,EAAM2I,GACpBhC,MAAK,SAACqE,GACL,IAAMC,EAAWhK,EAAMM,KAAI,SAAC2J,GAAD,OAAOA,EAAEnL,MAAQC,EAAKD,IAAMiL,EAAUE,KACjEnB,EAASkB,MAEVrE,OAAM,SAAAvE,GAAC,OAAI8E,QAAQC,MAAM/E,EAAEwE,aAgHlB9F,aAhGZ,SAA0Bf,GACxB2J,EAAqB3J,WAmGf,cAAC,EAAD,OAGF,cAAC,EAAD,CACE2B,QAASwI,GACTnK,KAAM4J,IAGR,cAAC,EAAD,CACElI,OAAQ0H,EACRzH,QAASwI,GACThH,aAlGR,SAA0BuF,GACxBf,EAAIwD,YAAYzC,GACb/B,MAAK,SAAAyE,GACJtB,EAAesB,GACf/B,GAA0B,MAE3BzC,OAAM,SAAAvE,GAAC,OAAI8E,QAAQC,MAAM/E,EAAEwE,eA+F1B,cAAC,EAAD,CACEnF,OAAQ4H,EACR3H,QAASwI,GACThJ,WAtFR,SAAyBuH,GACvBf,EAAI0D,QAAQ3C,GACT/B,MAAK,SAAAqE,GACJjB,EAAS,CAACiB,GAAF,mBAAc/J,KACtBsI,GAAuB,MAExB3C,OAAM,SAAAvE,GAAC,OAAI8E,QAAQC,MAAM/E,EAAEwE,eAmF1B,cAAC,EAAD,CACEnF,OAAQ8H,EACR7H,QAASwI,GACTpF,eArGR,SAA4BuG,GAC1B3D,EAAI4D,UAAUD,GACX3E,MAAK,SAAAyE,GACJtB,EAAesB,GACf3B,GAAyB,MAE1B7C,OAAM,SAAAvE,GAAC,OAAI8E,QAAQC,MAAM/E,EAAEwE,eAkG1B,cAAC,EAAD,CACE7G,KAAM0J,EACN/H,QAASwI,GACTnH,aAzFR,SAAiChD,EAAMwL,GACrCA,EAAIrH,iBACJwD,EAAI8D,WAAWzL,GACd2G,MAAK,WACJ,IAAMsE,EAAWhK,EAAMyK,QAAO,SAACR,GAAD,OAAOA,EAAEnL,MAAQC,EAAKD,OACpDgK,EAASkB,GACTtB,GAAqB,MAEtB/C,OAAM,SAAAvE,GAAC,OAAI8E,QAAQC,MAAM/E,EAAEwE,qBC1HjB8E,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBlF,MAAK,YAAkD,IAA/CmF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJpK,SAASqK,eAAe,SAM1BX,M","file":"static/js/main.c5ad8c05.chunk.js","sourcesContent":["import {useState} from 'react';\nimport {Link, Route} from \"react-router-dom\";\n\nfunction Header(props) {\n  const [isMenu, setIsMenu] = useState(false);\n\n  function burgerClick () {\n    setIsMenu(!isMenu);\n  }\n  return (\n    <header className={`header ${isMenu && 'header_menu-show'}`}>\n      <a href=\"https://happymarvin.github.io/mesto/\" className=\"header__logo\"> </a>\n      <Route exact path='/'>\n        <div className=\"header__right-block\">\n        {props.email && <p className=\"header__email\">{props.email}</p>}\n        {props.email && <Link className=\"header__sign-out\" to=\"/sign-up\" onClick={props.onSignout} >Выйти</Link>}\n        </div>\n        <div className=\"header__burger-wrapper\" onClick={burgerClick}>\n          <div className={`header__burger ${isMenu && 'header__burger_active'}`}></div>\n        </div>\n      </Route>\n      <Route exact path='/sign-in'>\n        <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>\n      </Route>\n      <Route exact path='/sign-up'>\n        <Link className=\"header__link\" to=\"/sign-in\">Войти</Link>\n      </Route>\n    </header>\n  )\n}\n\nexport default Header","import { createContext} from \"react\";\nexport const CurrentUserContext = createContext()","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card (props) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = currentUser._id === props.card.owner._id || '';\n  const isLiked = props.card.likes.some(like => like._id === currentUser._id) || '';\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n  function onCardLike() {\n    props.onCardLike(props.card, isLiked)\n  }\n  function onDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li className=\"card\">\n      <div className=\"card__image-wrapper\">\n        <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleClick}/>\n      </div>\n      <div className=\"card__inner-wrapper\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div className=\"card__like-wrapper\">\n          <button\n            className={`card__like ${isLiked && 'card__like_active'}`}\n            onClick={onCardLike}\n            type=\"button\"\n            aria-label=\"Лайк\"\n          ></button>\n          <span className=\"card__like-count\">{props.card.likes.length}</span>\n        </div>\n      </div>\n      <button \n        className={`card__delete ${isOwn && 'card__delete_show'}`}\n        type=\"button\"\n        onClick={onDeleteClick}\n        aria-label=\"Удалить карточку\">\n      </button>\n    </li>\n  )\n}\nexport default Card","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card'\n\nfunction Main ({ cards, onCardLike, onCardDelete, onCardClick, onEditAvatar, onAddPlace, onEditProfile }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <div className=\"main\">\n          <section className=\"profile\">\n            <button className=\"profile__edit-avatar\" onClick={onEditAvatar} >\n              <img src={currentUser.avatar} alt=\"аватар пользопателя\" className=\"profile__avatar\" />\n            </button>\n            <div className=\"profile__info\">\n              <div className=\"profile__name-wrapper\">\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\n                <button className=\"profile__edit\" type=\"button\" aria-label=\"Редактировать профайл\" onClick={onEditProfile} />\n              </div>\n              <p className=\"profile__description\">{currentUser.about}</p>\n            </div>\n            <button className=\"profile__add\" type=\"button\" aria-label=\"Добавить карточку\" onClick={onAddPlace} />\n          </section>\n\n          <section className=\"gallery\">\n            \n            <ul className=\"gallery__list\">\n              {cards.map(card => {\n                return (\n                  <Card\n                    card={card}\n                    onCardClick={onCardClick}\n                    onCardLike={onCardLike}\n                    onCardDelete={onCardDelete}\n                    key={card._id}\n                  />\n                )\n              })}\n            </ul>\n          </section>\n        </div>\n  )\n}\n\nexport default Main","function Footer () {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\nexport default Footer","import React from \"react\";\n\nfunction Popup (props) {\n  const [isOpen, onClose] = [props.isOpen, props.onClose];\n  React.useEffect(() => {\n    if (!isOpen) return;\n    const handleEscapeClose = (event) => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose);\n    };\n  }, [isOpen, onClose]);\n\n  return (\n    <section\n      className={`popup popup_${props.name} ${isOpen && 'popup_show'}`}\n      onMouseDown={e => e.target.classList.contains('popup') && onClose()}\n    >\n      <div className=\"popup__wrapper\">\n      {props.children}\n        <button\n          className={`popup__close popup__close_${props.name}`}\n          onClick={onClose}\n          type=\"button\"\n          aria-label=\"Закрыть форму\">\n        </button>\n      </div>\n    </section>\n  )\n}\n\nexport default Popup","import React from 'react';\nimport Popup from './Popup';\n\n\nfunction PopupWithForm(props) {\n  const [isOpen, onClose] = [props.isOpen, props.onClose];\n\n  return (\n    <Popup\n      isOpen={isOpen}\n      onClose={onClose}\n      name={props.name}\n    >\n      <form\n        action=\"#\"\n        className={`popup__form popup__form_${props.name}`}\n        name={`${props.name}-form`}\n        noValidate\n        onSubmit={props.onSubmit}\n      >\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n\n      </form>\n    </Popup>\n  )\n}\n\nexport default PopupWithForm","import PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup({ card, onClose, onDeleteCard }) {\n  return (\n    <PopupWithForm\n      name=\"delete\"\n      title=\"Вы уверены?\"\n      isOpen={card}\n      onClose={onClose}\n      onSubmit={onDeleteCard.bind(null, card)}\n    >\n      <button className=\"popup__submit\" type=\"submit\" name=\"popup-submit\">Да</button>\n    </PopupWithForm>\n  )\n}\nexport default DeleteCardPopup","import PopupWithForm from './PopupWithForm';\nimport { useContext, useState, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [validDescription, setValidDescription] = useState(true);\n  const [validName, setValidName] = useState(true);\n  const [valid, setValid] = useState(false);\n  const [isChange, setIsChange] = useState(false);\n  const [validMessageName, setValidMessageName] = useState('');\n  const [validMessageDescription, setValidMessageDescription] = useState('');\n  \n  useEffect(() => {\n    setName(`${currentUser.name}`);\n    setDescription(`${currentUser.about}`);\n    setValid(false);\n    setIsChange(false);\n    setValidName(true);\n    setValidDescription(true);\n    setValidMessageName('');\n    setValidMessageDescription('');\n  }, [currentUser, isOpen])\n\n  useEffect(() => {\n    setValid(validName && validDescription)\n  }, [validName, validDescription, isChange])\n\n  function onChangeName(e) {\n    setName(e.target.value)\n    setValidName(e.target.validity.valid)\n    setIsChange(true);\n    setValidMessageName(e.target.validationMessage || '')\n  }\n\n  function onChangeDescription(e) {\n    setDescription(e.target.value)\n    setValidDescription(e.target.validity.valid);\n    setIsChange(true);\n    setValidMessageDescription(e.target.validationMessage)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input type=\"text\"\n        name=\"popup-name\"\n        className=\"popup__text-input popup__text-input_name\"\n        maxLength=\"40\"\n        minLength=\"2\"\n        required\n        id=\"profile-name\"\n        placeholder=\"Имя\"\n        value={name}\n        onChange={onChangeName} />\n      <span className=\"popup__error\" id=\"profile-name-error\">{validMessageName}</span>\n      <input type=\"text\"\n        name=\"popup-description\"\n        className=\"popup__text-input popup__text-input_description\"\n        maxLength=\"200\"\n        minLength=\"2\"\n        required\n        id=\"profile-description\"\n        placeholder=\"Вид деятельности\"\n        value={description}\n        onChange={onChangeDescription} />\n      <span className=\"popup__error\" id=\"profile-description-error\">{validMessageDescription}</span>\n      <button\n        className={`popup__submit ${valid ? '' : 'popup__submit_disabled'}`}\n        type=\"submit\"\n        name=\"popup-submit\"\n        disabled={!valid}\n      >Сохранить</button>\n    </PopupWithForm>\n  )\n}\nexport default EditProfilePopup","import PopupWithForm from './PopupWithForm';\nimport { useState, useEffect } from \"react\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar}) {\n  const [valid, setValid] = useState(false);\n  const [validMessage, setValidMessage] = useState('');\n  const [link, setLink] = useState('')\n\n  useEffect(()=>{\n    setValid(false);\n    setLink('');\n    setValidMessage('');\n  }, [isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(link);\n  }\n\n  function onChange(e) {\n    setLink(e.target.value)\n    setValid(e.target.validity.valid);\n    setValidMessage(e.target.validationMessage);\n  }\n\n  return (\n    <PopupWithForm\n          name=\"add-avatar\"\n          title=\"Обновить аватар\"\n          isOpen={isOpen}\n          onClose={onClose}\n          onSubmit={handleSubmit}\n        >\n          <input type=\"url\"\n            required\n            name=\"avatar-link\"\n            className=\"popup__text-input popup__text-input_place-link\"\n            placeholder=\"Ссылка на аватар\"\n            id=\"avatar-link\"\n            value={link}\n            onChange={onChange} />\n          <span className=\"popup__error\" id=\"avatar-link-error\">{validMessage}</span>\n          <button\n            className={`popup__submit ${valid ? '' : 'popup__submit_disabled'}`}\n            type=\"submit\"\n            name=\"popup-submit\"\n            disabled={!valid}\n          >Сохранить</button>\n        </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup","import PopupWithForm from './PopupWithForm';\nimport { useState, useEffect } from \"react\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = useState('')\n  const [link, setLink] = useState('')\n  const [validLink, setValidLink] = useState(false);\n  const [validName, setValidName] = useState(false);\n  const [valid, setValid] = useState(false);\n  const [validMessageName, setValidMessageName] = useState('');\n  const [validMessageLink, setValidMessageLink] = useState('');\n  \n  useEffect(() => {\n    setName('')\n    setLink('')\n    setValidName(false);\n    setValidLink(false);\n    setValidMessageName('');\n    setValidMessageLink('');\n  }, [isOpen])\n\n  useEffect(() => {\n    setValid(validName && validLink)\n  }, [validName, validLink])\n\n  function onChangeName(e) {\n    setName(e.target.value)\n    setValidName(e.target.validity.valid)\n    setValidMessageName(e.target.validationMessage)\n  }\n  function onChangeLink(e) {\n    setLink(e.target.value)\n    setValidLink(e.target.validity.valid);\n    setValidMessageLink(e.target.validationMessage)\n  }\n\n  function onSubmit (e) {\n    e.preventDefault();\n    onAddPlace({\n      name,\n      link\n    })\n  }\n\n  return (\n    <PopupWithForm\n          name=\"new-place\"\n          title=\"Новое место\"\n          isOpen={isOpen}\n          onClose={onClose}\n          onSubmit={onSubmit}\n        >\n          <input type=\"text\"\n            name=\"popup-name\"\n            className=\"popup__text-input popup__text-input_place-name\"\n            maxLength=\"30\"\n            minLength=\"2\"\n            required\n            placeholder=\"Название\"\n            id=\"place-name\"\n            value={name}\n            onChange={onChangeName} />\n          <span className=\"popup__error popup__error_show\" id=\"place-name-error\">{validMessageName}</span>\n          <input type=\"url\"\n            required\n            name=\"popup-Link\"\n            className=\"popup__text-input popup__text-input_place-link\"\n            placeholder=\"Ссылка на картинку\"\n            id=\"place-Link\"\n            value={link}\n            onChange={onChangeLink} />\n          <span className=\"popup__error\" id=\"place-Link-error\">{validMessageLink}</span>\n          <button\n            className={`popup__submit ${valid ? '' : 'popup__submit_disabled'}`}\n            type=\"submit\"\n            name=\"popup-submit\"\n            disabled={!valid}\n          >Создать</button>\n        </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup","import React from 'react';\n\nfunction ImagePopup (props) {\n  const [card, onClose] = [props.card, props.onClose];\n\n  React.useEffect(() => {\n    if (!card) return;\n    const handleEscapeClose = (event) => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose);\n    };\n  }, [card, onClose]);\n\n  return (\n    <section \n      className={`popup popup_image ${card ? 'popup_show' : ''}`}\n      onClick={e => e.target.classList.contains('popup') && onClose()}\n    >\n        <div className=\"popup__container\">\n          <img src={card ? card.link : '#'} alt=\"Фото места\" className=\"popup__image\" />\n          <h2 className=\"popup__image-title\">{card ? card.name : ''}</h2>\n          <button \n            className=\"popup__close popup__close_image\" \n            type=\"button\" \n            aria-label=\"Закрыть фото\"\n            onClick={onClose}\n          ></button>\n        </div>\n      </section>\n  )\n}\n\nexport default ImagePopup","export default __webpack_public_path__ + \"static/media/popup-fail.ba3097ce.jpg\";","import Popup from './Popup';\nimport imageOk from '../images/popup-ok.jpg'\nimport imageFail from '../images/popup-fail.jpg'\n\nfunction InfoToolTip (props) {\n  return (\n    <Popup\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      name={props.name}\n    >\n      <img src={props.status ? imageOk : imageFail} alt=\"\" className=\"popup__info-image\"/>\n      <p className=\"popup__info-message\">{props.children}</p>\n    </Popup>\n  )\n}\n\nexport default InfoToolTip","export default \"data:image/jpeg;base64,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\"","import {useState, useEffect} from 'react';\nimport {Link, useHistory} from 'react-router-dom';\nimport InfoToolTip from \"./InfoTooltip\";\n\nfunction Register(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [popupMessage, setPopupMessage] = useState('');\n  const [isRegisterPopup, setIsRegisterPopup] = useState(false);\n  const [submitStatus, setSubmitStatus] = useState(false);\n  let history = useHistory();\n\n  useEffect(() => {\n    if (props.loggedIn) history.push('/')\n  },[props.loggedIn, history]);\n\n  function onChangeEmail (e) {\n    setEmail(e.target.value)\n  }\n\n  function onChangePassword (e) {\n    setPassword(e.target.value)\n  }\n\n  function onClose () {\n    setIsRegisterPopup(false);\n    if (submitStatus) {\n      history.push(\"/sign-in\");\n    }\n  }\n\n  function onSubmit (e) {\n    e.preventDefault();\n    props.onRegister(email, password)\n      .then(()=> {\n        setSubmitStatus(true);\n        setPopupMessage(\"Вы успешно зарегистрировались!\")\n      })\n      .catch(e => {\n        switch (e.message) {\n          case \"The \\\"email\\\" field is required\":\n            setPopupMessage(\"Поле \\\"Email\\\" должны быть заполенено\");\n            break;\n          case \"Поле \\\"password\\\" должно быть заполнено\":\n            setPopupMessage(\"Поле \\\"Пароль\\\" должны быть заполенено\");\n            break;\n          case \"The \\\"email\\\" field must be a valid email address\":\n            setPopupMessage(\"Необходимо ввести валидный Email\");\n            break;\n          case \"Пользователь с таким email уже зарегистрирован\":\n            setPopupMessage(\"Пользователь с таким email уже зарегистрирован\");\n            break;\n          default:\n            setPopupMessage(\"Что-то пошло не так! Попробуйте ещё раз.\");\n        }\n      })\n      .finally(()=>{\n        setIsRegisterPopup(true);\n      })\n  }\n\n  return (\n    <>\n      <form className=\"register\" onSubmit={onSubmit}>\n        <h1 className=\"register__title\">Регистрация</h1>\n        <input\n          type=\"email\"\n          className=\"register__email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={onChangeEmail}\n        />\n        <input\n          type=\"password\"\n          className=\"register__password\"\n          placeholder=\"Пароль\"\n          value={password}\n          onChange={onChangePassword}\n        />\n        <button className=\"register__submit\">Зарегистрироваться</button>\n        <p className=\"register__login\">Уже зарегистрированы?&nbsp;\n          <Link className=\"register__link\" to=\"/sign-in\">Войти</Link>\n        </p>\n      </form>\n      <InfoToolTip\n        isOpen={isRegisterPopup}\n        onClose={onClose}\n        name=\"register\"\n        status={submitStatus}\n      >\n        {popupMessage}\n      </InfoToolTip>\n    </>\n  )\n}\n\nexport default Register","import {useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport InfoToolTip from \"./InfoTooltip\";\n\nfunction Login (props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [popupMessage, setPopupMessage] = useState('');\n  const [isLoginPopup, setIsLoginPopup] = useState(false);\n  const [submitStatus, setSubmitStatus] = useState(false);\n  let history = useHistory();\n\n  useEffect(() => {\n    if (props.loggedIn) history.push('/')\n  },[props.loggedIn, history]);\n\n  function onChangeEmail (e) {\n    setEmail(e.target.value)\n  }\n\n  function onChangePassword (e) {\n    setPassword(e.target.value)\n  }\n\n  function onClose () {\n    setIsLoginPopup(false);\n    props.setLoggedIn(true);\n    if (submitStatus) {\n      history.push(\"./\");\n    }\n  }\n\n  function onSubmit (e) {\n    e.preventDefault();\n    props.onLogin(email, password)\n      .then(()=> {\n        setSubmitStatus(true);\n        setPopupMessage(\"Вы успешно вошли!\")\n      })\n      .catch(e => {\n        console.error(e.message)\n        switch (e.message) {\n          case \"Incorrect email address or password\":\n            setPopupMessage(\"Некорректный email или пароль\");\n            break;\n          case \"Поле \\\"password\\\" должно быть заполнено\":\n            setPopupMessage(\"Поле \\\"Пароль\\\" должны быть заполенено\");\n            break;\n          default:\n            setPopupMessage(\"Что-то пошло не так! Попробуйте ещё раз.\");\n        }\n      })\n      .finally(()=>{\n        setIsLoginPopup(true);\n      })\n  }\n\n  return (\n    <>\n    <form className=\"register\" onSubmit={onSubmit}>\n      <h1 className=\"register__title\">Вход</h1>\n      <input\n        type=\"email\"\n        className=\"register__email\"\n        placeholder=\"Email\"\n        value={email}\n        onChange={onChangeEmail}\n      />\n      <input\n        type=\"password\"\n        className=\"register__password\"\n        placeholder=\"Пароль\"\n        value={password}\n        onChange={onChangePassword}\n      />\n      <button className=\"register__submit\">Войти</button>\n    </form>\n    <InfoToolTip\n      isOpen={isLoginPopup}\n      onClose={onClose}\n      name=\"login\"\n      status={submitStatus}\n    >\n      {popupMessage}\n    </InfoToolTip>\n    </>\n  )\n}\n\nexport default Login","import React from \"react\";\nimport { Route } from \"react-router-dom\";\n\nconst MainRoute = (props) => {\n  return (\n    <Route>\n      {() =>\n        props.isChecked ? props.children : <p>Загрузка...</p>\n      }\n    </Route>\n  );\n};\n\nexport default MainRoute;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-up\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;","class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _getResponseData(res) {\n      if (res.ok) return res.json()\n      return Promise.reject(new Error(`Ошибка: ${res.status}`))\n  }\n\n  getUserData() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers\n    })\n      .then(this._getResponseData)\n  }\n\n  setUserData(data) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n      .then(this._getResponseData)\n  }\n\n  getInitialCards () {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers\n    })\n      .then(this._getResponseData)\n  }\n\n  addCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then(this._getResponseData)\n  }\n\n  deleteCard(data) {\n    return fetch(`${this._baseUrl}cards/${data._id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(this._getResponseData)\n  }\n\n  switchLike(card, method) {\n    return fetch(`${this._baseUrl}cards/likes/${card._id}`, {\n      method: method,\n      headers: this._headers\n    })\n      .then(this._getResponseData)\n  }\n\n  addAvatar(data) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        \"avatar\": data\n      })\n    })\n      .then(this._getResponseData)\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19/',\n  headers: {\n    authorization: '7a0583fa-0284-4573-a326-4d7fa2ed6e73',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api","\nclass Auth {\n  constructor(baseURL) {\n    this.baseURL = baseURL;\n  }\n\n  _getResponseData(res) {\n\n    if (res.ok) return res.json()\n    return res.json().then(res => Promise.reject(new Error(res.message || res.error)))\n  }\n\n  register (email, password) {\n    return fetch(`${this.baseURL}/signup`, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        password,\n        email\n      })\n    }).then(this._getResponseData)\n  }\n\n  login (email, password) {\n    return fetch(`${this.baseURL}/signin`, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        password,\n        email\n      })\n    }).then(this._getResponseData)\n  }\n\n  getUserData (jwt) {\n    return fetch(`${this.baseURL}/users/me`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\" : `Bearer ${jwt}`\n      }\n    })\n      .then(this._getResponseData)\n  }\n}\n\nconst auth = new Auth(\"https://auth.nomoreparties.co\");\n\nexport default  auth\n","import { useEffect, useState } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport DeleteCardPopup from './DeleteCardPopup'\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from './ImagePopup';\nimport Register from './Register';\nimport Login from './Login';\nimport MainRoute from './MainRoute';\nimport ProtectedRoute from './ProtectedRoute';\nimport api from '../utils/api';\nimport auth from '../utils/auth';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardPopup, setIsDeleteCardPopup] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [user, setUser] = useState({})\n  const [isChecked, setIsChecked] = useState(false);\n\n  function checkToken () {\n    const jwt = localStorage.getItem('jwt');\n    if(jwt) {\n      auth.getUserData(jwt)\n        .then(res=>{\n          setLoggedIn(true);\n          setUser({\n            email: res.data.email,\n            id: res.data._id\n          })\n        })\n        .catch(e => console.error(e.message))\n        .finally(()=>{\n          setIsChecked(true);\n        })\n    }\n    else {\n      setIsChecked(true);\n    }\n  }\n  \n  useEffect(() => {\n    checkToken();\n    api.getUserData()\n      .then(setCurrentUser)\n      .catch(e => console.error(e.message))\n    api.getInitialCards()\n      .then(setCards)\n      .catch(e => console.error(e.message))\n  },[]);\n\n\n  //handle карточек\n  function handleCardLike (card, isLiked) {\n    const method = isLiked ? 'DELETE' : 'PUT';\n    api.switchLike(card, method)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch(e => console.error(e.message))\n  }\n\n  //Открываем/закрываем попапы\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n  function handleCardDelete(card) {\n    setIsDeleteCardPopup(card)\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false);\n    setIsDeleteCardPopup(false);\n  }\n\n  //Обработка событий в попапах\n  function handleUpdateUser(data) {\n    api.setUserData(data)\n      .then(userData => {\n        setCurrentUser(userData);\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch(e => console.error(e.message))\n  }\n\n  function handleUpdateAvatar(url) {\n    api.addAvatar(url)\n      .then(userData => {\n        setCurrentUser(userData);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch(e => console.error(e.message))\n  }\n\n  function handleAddPlace (data) {\n    api.addCard(data)\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch(e => console.error(e.message))\n  }\n\n  function handleCardDeleteSubmit (card, evt) {\n    evt.preventDefault();\n    api.deleteCard(card)\n    .then(() => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n      setIsDeleteCardPopup(false);\n    })\n    .catch(e => console.error(e.message))\n  }\n\n  function handleRegister (email, password) {\n    return auth.register(email, password)\n  }\n\n  function handleLogin (email, password) {\n    return auth.login(email, password)\n      .then(res => {\n        localStorage.setItem('jwt', res.token);\n      })\n  }\n\n  function handleSignout () {\n    localStorage.clear()\n    setLoggedIn(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"container\">\n          <Header\n            email={user.email}\n            onSignout={handleSignout}\n          />\n          <MainRoute isChecked={isChecked}>\n          <Switch>\n            <Route path=\"/sign-up\" >\n              <Register\n                onRegister={handleRegister}\n                loggedIn={loggedIn}\n              />\n            </Route>\n            <Route path=\"/sign-in\" >\n              <Login onLogin={handleLogin} loggedIn={loggedIn} setLoggedIn={setLoggedIn} />\n            </Route>\n            <ProtectedRoute\n              loggedIn={loggedIn}\n              path=\"/\"\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n          </Switch>\n          </MainRoute>\n          <Footer />\n        </div>\n\n        <ImagePopup\n          onClose={closeAllPopups}\n          card={selectedCard}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n        />\n\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen} \n          onClose={closeAllPopups} \n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <DeleteCardPopup\n          card={isDeleteCardPopup} \n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDeleteSubmit}\n        />\n        \n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}