(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{30:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),r=a(20),i=a.n(r),o=(a(30),a(22)),l=a(2),u=a(3),p=a(7);var f=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(n.jsxs)("header",{className:"header ".concat(c&&"header_menu-show"),children:[Object(n.jsx)("a",{href:"https://happymarvin.github.io/mesto/",className:"header__logo",children:" "}),Object(n.jsxs)(u.b,{exact:!0,path:"/",children:[Object(n.jsxs)("div",{className:"header__right-block",children:[e.email&&Object(n.jsx)("p",{className:"header__email",children:e.email}),e.email&&Object(n.jsx)(p.b,{className:"header__sign-out",to:"/sign-up",onClick:e.onSignout,children:"\u0412\u044b\u0439\u0442\u0438"})]}),Object(n.jsx)("div",{className:"header__burger-wrapper",onClick:function(){r(!c)},children:Object(n.jsx)("div",{className:"header__burger ".concat(c&&"header__burger_active")})})]}),Object(n.jsx)(u.b,{exact:!0,path:"/sign-in",children:Object(n.jsx)(p.b,{className:"header__link",to:"/sign-up",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(n.jsx)(u.b,{exact:!0,path:"/sign-up",children:Object(n.jsx)(p.b,{className:"header__link",to:"/sign-in",children:"\u0412\u043e\u0439\u0442\u0438"})})]})},b=Object(s.createContext)();var A=function(e){var t=Object(s.useContext)(b),a=t._id===e.card.owner._id||"",c=e.card.likes.some((function(e){return e._id===t._id}))||"";return Object(n.jsxs)("li",{className:"card",children:[Object(n.jsx)("div",{className:"card__image-wrapper",children:Object(n.jsx)("img",{src:e.card.link,alt:e.card.name,className:"card__image",onClick:function(){e.onCardClick(e.card)}})}),Object(n.jsxs)("div",{className:"card__inner-wrapper",children:[Object(n.jsx)("h2",{className:"card__title",children:e.card.name}),Object(n.jsxs)("div",{className:"card__like-wrapper",children:[Object(n.jsx)("button",{className:"card__like ".concat(c&&"card__like_active"),onClick:function(){e.onCardLike(e.card,c)},type:"button","aria-label":"\u041b\u0430\u0439\u043a"}),Object(n.jsx)("span",{className:"card__like-count",children:e.card.likes.length})]})]}),Object(n.jsx)("button",{className:"card__delete ".concat(a&&"card__delete_show"),type:"button",onClick:function(){e.onCardDelete(e.card)},"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})]})};var j=function(e){var t=e.cards,a=e.onCardLike,c=e.onCardDelete,r=e.onCardClick,i=e.onEditAvatar,o=e.onAddPlace,l=e.onEditProfile,u=Object(s.useContext)(b);return Object(n.jsxs)("div",{className:"main",children:[Object(n.jsxs)("section",{className:"profile",children:[Object(n.jsx)("button",{className:"profile__edit-avatar",onClick:i,children:Object(n.jsx)("img",{src:u.avatar,alt:"\u0430\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u043f\u0430\u0442\u0435\u043b\u044f",className:"profile__avatar"})}),Object(n.jsxs)("div",{className:"profile__info",children:[Object(n.jsxs)("div",{className:"profile__name-wrapper",children:[Object(n.jsx)("h1",{className:"profile__name",children:u.name}),Object(n.jsx)("button",{className:"profile__edit",type:"button","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0430\u0439\u043b",onClick:l})]}),Object(n.jsx)("p",{className:"profile__description",children:u.about})]}),Object(n.jsx)("button",{className:"profile__add",type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",onClick:o})]}),Object(n.jsx)("section",{className:"gallery",children:Object(n.jsx)("ul",{className:"gallery__list",children:t.map((function(e){return Object(n.jsx)(A,{card:e,onCardClick:r,onCardLike:a,onCardDelete:c},e._id)}))})})]})};var d=function(){return Object(n.jsx)("footer",{className:"footer",children:Object(n.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Mesto Russia"})})};var h=function(e){var t=[e.isOpen,e.onClose],a=t[0],s=t[1];return c.a.useEffect((function(){if(a){var e=function(e){"Escape"===e.key&&s()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}}),[a,s]),Object(n.jsx)("section",{className:"popup popup_".concat(e.name," ").concat(a&&"popup_show"),onMouseDown:function(e){return e.target.classList.contains("popup")&&s()},children:Object(n.jsxs)("div",{className:"popup__wrapper",children:[e.children,Object(n.jsx)("button",{className:"popup__close popup__close_".concat(e.name),onClick:s,type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0444\u043e\u0440\u043c\u0443"})]})})};var m=function(e){var t=[e.isOpen,e.onClose],a=t[0],s=t[1];return Object(n.jsx)(h,{isOpen:a,onClose:s,name:e.name,children:Object(n.jsxs)("form",{action:"#",className:"popup__form popup__form_".concat(e.name),name:"".concat(e.name,"-form"),noValidate:!0,onSubmit:e.onSubmit,children:[Object(n.jsx)("h2",{className:"popup__title",children:e.title}),e.children]})})};var O=function(e){var t=e.card,a=e.onClose,s=e.onDeleteCard;return Object(n.jsx)(m,{name:"delete",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",isOpen:t,onClose:a,onSubmit:s.bind(null,t),children:Object(n.jsx)("button",{className:"popup__submit",type:"submit",name:"popup-submit",children:"\u0414\u0430"})})};var v=function(e){var t=e.isOpen,a=e.onClose,c=e.onUpdateUser,r=Object(s.useContext)(b),i=Object(s.useState)(""),o=Object(l.a)(i,2),u=o[0],p=o[1],f=Object(s.useState)(""),A=Object(l.a)(f,2),j=A[0],d=A[1],h=Object(s.useState)(!0),O=Object(l.a)(h,2),v=O[0],x=O[1],g=Object(s.useState)(!0),w=Object(l.a)(g,2),P=w[0],C=w[1],N=Object(s.useState)(!1),B=Object(l.a)(N,2),E=B[0],_=B[1],H=Object(s.useState)(!1),D=Object(l.a)(H,2),L=D[0],Q=D[1],k=Object(s.useState)(""),F=Object(l.a)(k,2),S=F[0],X=F[1],T=Object(s.useState)(""),J=Object(l.a)(T,2),U=J[0],W=J[1];return Object(s.useEffect)((function(){p("".concat(r.name)),d("".concat(r.about)),_(!1),Q(!1),C(!0),x(!0),X(""),W("")}),[r,t]),Object(s.useEffect)((function(){_(P&&v)}),[P,v,L]),Object(n.jsxs)(m,{name:"profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),c({name:u,about:j})},children:[Object(n.jsx)("input",{type:"text",name:"popup-name",className:"popup__text-input popup__text-input_name",maxLength:"40",minLength:"2",required:!0,id:"profile-name",placeholder:"\u0418\u043c\u044f",value:u,onChange:function(e){p(e.target.value),C(e.target.validity.valid),Q(!0),X(e.target.validationMessage||"")}}),Object(n.jsx)("span",{className:"popup__error",id:"profile-name-error",children:S}),Object(n.jsx)("input",{type:"text",name:"popup-description",className:"popup__text-input popup__text-input_description",maxLength:"200",minLength:"2",required:!0,id:"profile-description",placeholder:"\u0412\u0438\u0434 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",value:j,onChange:function(e){d(e.target.value),x(e.target.validity.valid),Q(!0),W(e.target.validationMessage)}}),Object(n.jsx)("span",{className:"popup__error",id:"profile-description-error",children:U}),Object(n.jsx)("button",{className:"popup__submit ".concat(E?"":"popup__submit_disabled"),type:"submit",name:"popup-submit",disabled:!E,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})};var x=function(e){var t=e.isOpen,a=e.onClose,c=e.onUpdateAvatar,r=Object(s.useState)(!1),i=Object(l.a)(r,2),o=i[0],u=i[1],p=Object(s.useState)(""),f=Object(l.a)(p,2),b=f[0],A=f[1],j=Object(s.useState)(""),d=Object(l.a)(j,2),h=d[0],O=d[1];return Object(s.useEffect)((function(){u(!1),O(""),A("")}),[t]),Object(n.jsxs)(m,{name:"add-avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),c(h)},children:[Object(n.jsx)("input",{type:"url",required:!0,name:"avatar-link",className:"popup__text-input popup__text-input_place-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440",id:"avatar-link",value:h,onChange:function(e){O(e.target.value),u(e.target.validity.valid),A(e.target.validationMessage)}}),Object(n.jsx)("span",{className:"popup__error",id:"avatar-link-error",children:b}),Object(n.jsx)("button",{className:"popup__submit ".concat(o?"":"popup__submit_disabled"),type:"submit",name:"popup-submit",disabled:!o,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})};var g=function(e){var t=e.isOpen,a=e.onClose,c=e.onAddPlace,r=Object(s.useState)(""),i=Object(l.a)(r,2),o=i[0],u=i[1],p=Object(s.useState)(""),f=Object(l.a)(p,2),b=f[0],A=f[1],j=Object(s.useState)(!1),d=Object(l.a)(j,2),h=d[0],O=d[1],v=Object(s.useState)(!1),x=Object(l.a)(v,2),g=x[0],w=x[1],P=Object(s.useState)(!1),C=Object(l.a)(P,2),N=C[0],B=C[1],E=Object(s.useState)(""),_=Object(l.a)(E,2),H=_[0],D=_[1],L=Object(s.useState)(""),Q=Object(l.a)(L,2),k=Q[0],F=Q[1];return Object(s.useEffect)((function(){u(""),A(""),w(!1),O(!1),D(""),F("")}),[t]),Object(s.useEffect)((function(){B(g&&h)}),[g,h]),Object(n.jsxs)(m,{name:"new-place",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),c({name:o,link:b})},children:[Object(n.jsx)("input",{type:"text",name:"popup-name",className:"popup__text-input popup__text-input_place-name",maxLength:"30",minLength:"2",required:!0,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"place-name",value:o,onChange:function(e){u(e.target.value),w(e.target.validity.valid),D(e.target.validationMessage)}}),Object(n.jsx)("span",{className:"popup__error popup__error_show",id:"place-name-error",children:H}),Object(n.jsx)("input",{type:"url",required:!0,name:"popup-Link",className:"popup__text-input popup__text-input_place-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",id:"place-Link",value:b,onChange:function(e){A(e.target.value),O(e.target.validity.valid),F(e.target.validationMessage)}}),Object(n.jsx)("span",{className:"popup__error",id:"place-Link-error",children:k}),Object(n.jsx)("button",{className:"popup__submit ".concat(N?"":"popup__submit_disabled"),type:"submit",name:"popup-submit",disabled:!N,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})};var w=function(e){var t=[e.card,e.onClose],a=t[0],s=t[1];return c.a.useEffect((function(){if(a){var e=function(e){"Escape"===e.key&&s()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}}),[a,s]),Object(n.jsx)("section",{className:"popup popup_image ".concat(a?"popup_show":""),onClick:function(e){return e.target.classList.contains("popup")&&s()},children:Object(n.jsxs)("div",{className:"popup__container",children:[Object(n.jsx)("img",{src:a?a.link:"#",alt:"\u0424\u043e\u0442\u043e \u043c\u0435\u0441\u0442\u0430",className:"popup__image"}),Object(n.jsx)("h2",{className:"popup__image-title",children:a?a.name:""}),Object(n.jsx)("button",{className:"popup__close popup__close_image",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0444\u043e\u0442\u043e",onClick:s})]})})},P=a.p+"static/media/popup-fail.ba3097ce.jpg";var C=function(e){return Object(n.jsxs)(h,{isOpen:e.isOpen,onClose:e.onClose,name:e.name,children:[Object(n.jsx)("img",{src:e.status?"data:image/jpeg;base64,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":P,alt:"",className:"popup__info-image"}),Object(n.jsx)("p",{className:"popup__info-message",children:e.children})]})};var N=function(e){var t=Object(s.useState)(""),a=Object(l.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(""),o=Object(l.a)(i,2),f=o[0],b=o[1],A=Object(s.useState)(""),j=Object(l.a)(A,2),d=j[0],h=j[1],m=Object(s.useState)(!1),O=Object(l.a)(m,2),v=O[0],x=O[1],g=Object(s.useState)(!1),w=Object(l.a)(g,2),P=w[0],N=w[1],B=Object(u.g)();return Object(s.useEffect)((function(){e.loggedIn&&B.push("/")}),[e.loggedIn,B]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{className:"register",onSubmit:function(t){t.preventDefault(),e.onRegister(c,f).then((function(){N(!0),h("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!")})).catch((function(e){switch(e.message){case'The "email" field is required':h('\u041f\u043e\u043b\u0435 "Email" \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u0435\u043d\u0435\u043d\u043e');break;case'\u041f\u043e\u043b\u0435 "password" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e':h('\u041f\u043e\u043b\u0435 "\u041f\u0430\u0440\u043e\u043b\u044c" \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u0435\u043d\u0435\u043d\u043e');break;case'The "email" field must be a valid email address':h("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 Email");break;case"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d":h("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d");break;default:h("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.")}})).finally((function(){x(!0)}))},children:[Object(n.jsx)("h1",{className:"register__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(n.jsx)("input",{type:"email",className:"register__email",placeholder:"Email",value:c,onChange:function(e){r(e.target.value)}}),Object(n.jsx)("input",{type:"password",className:"register__password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:f,onChange:function(e){b(e.target.value)}}),Object(n.jsx)("button",{className:"register__submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(n.jsxs)("p",{className:"register__login",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0",Object(n.jsx)(p.b,{className:"register__link",to:"/sign-in",children:"\u0412\u043e\u0439\u0442\u0438"})]})]}),Object(n.jsx)(C,{isOpen:v,onClose:function(){x(!1),P&&B.push("/sign-in")},name:"register",status:P,children:d})]})};var B=function(e){var t=Object(s.useState)(""),a=Object(l.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(""),o=Object(l.a)(i,2),p=o[0],f=o[1],b=Object(s.useState)(""),A=Object(l.a)(b,2),j=A[0],d=A[1],h=Object(s.useState)(!1),m=Object(l.a)(h,2),O=m[0],v=m[1],x=Object(s.useState)(!1),g=Object(l.a)(x,2),w=g[0],P=g[1],N=Object(u.g)();return Object(s.useEffect)((function(){e.loggedIn&&N.push("/")}),[e.loggedIn,N]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{className:"register",onSubmit:function(t){t.preventDefault(),e.onLogin(c,p).then((function(){P(!0),d("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u043e\u0448\u043b\u0438!")})).catch((function(e){switch(console.error(e.message),e.message){case"Incorrect email address or password":d("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c");break;case'\u041f\u043e\u043b\u0435 "password" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e':d('\u041f\u043e\u043b\u0435 "\u041f\u0430\u0440\u043e\u043b\u044c" \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u0435\u043d\u0435\u043d\u043e');break;default:d("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.")}})).finally((function(){v(!0)}))},children:[Object(n.jsx)("h1",{className:"register__title",children:"\u0412\u0445\u043e\u0434"}),Object(n.jsx)("input",{type:"email",className:"register__email",placeholder:"Email",value:c,onChange:function(e){r(e.target.value)}}),Object(n.jsx)("input",{type:"password",className:"register__password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:p,onChange:function(e){f(e.target.value)}}),Object(n.jsx)("button",{className:"register__submit",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(n.jsx)(C,{isOpen:O,onClose:function(){v(!1),e.setLoggedIn(!0),w&&N.push("./")},name:"login",status:w,children:j})]})},E=function(e){return Object(n.jsx)(u.b,{children:function(){return e.isChecked?e.children:Object(n.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})}})},_=a(23),H=a(24),D=function(e){var t=e.component,a=Object(H.a)(e,["component"]);return Object(n.jsx)(u.b,{children:function(){return a.loggedIn?Object(n.jsx)(t,Object(_.a)({},a)):Object(n.jsx)(u.a,{to:"./sign-up"})}})},L=a(13),Q=a(14),k=new(function(){function e(t){Object(L.a)(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}return Object(Q.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))}},{key:"getUserData",value:function(){return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers}).then(this._getResponseData)}},{key:"setUserData",value:function(e){return fetch("".concat(this._baseUrl,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._getResponseData)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"cards"),{headers:this._headers}).then(this._getResponseData)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._getResponseData)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e._id),{method:"DELETE",headers:this._headers}).then(this._getResponseData)}},{key:"switchLike",value:function(e,t){return fetch("".concat(this._baseUrl,"cards/likes/").concat(e._id),{method:t,headers:this._headers}).then(this._getResponseData)}},{key:"addAvatar",value:function(e){return fetch("".concat(this._baseUrl,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._getResponseData)}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-19/",headers:{authorization:"7a0583fa-0284-4573-a326-4d7fa2ed6e73","Content-Type":"application/json"}}),F=new(function(){function e(t){Object(L.a)(this,e),this.baseURL=t}return Object(Q.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(new Error(e.message||e.error))}))}},{key:"register",value:function(e,t){return fetch("".concat(this.baseURL,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,email:e})}).then(this._getResponseData)}},{key:"login",value:function(e,t){return fetch("".concat(this.baseURL,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,email:e})}).then(this._getResponseData)}},{key:"getUserData",value:function(e){return fetch("".concat(this.baseURL,"/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(this._getResponseData)}}]),e}())("https://auth.nomoreparties.co");var S=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)(!1),i=Object(l.a)(r,2),p=i[0],A=i[1],h=Object(s.useState)(!1),m=Object(l.a)(h,2),P=m[0],C=m[1],_=Object(s.useState)(!1),H=Object(l.a)(_,2),L=H[0],Q=H[1],S=Object(s.useState)(!1),X=Object(l.a)(S,2),T=X[0],J=X[1],U=Object(s.useState)({}),W=Object(l.a)(U,2),R=W[0],y=W[1],q=Object(s.useState)([]),G=Object(l.a)(q,2),I=G[0],V=G[1],z=Object(s.useState)(!1),Z=Object(l.a)(z,2),K=Z[0],M=Z[1],Y=Object(s.useState)({}),$=Object(l.a)(Y,2),ee=$[0],te=$[1],ae=Object(s.useState)(!1),ne=Object(l.a)(ae,2),se=ne[0],ce=ne[1];function re(){A(!1),c(!1),C(!1),J(!1),Q(!1)}return Object(s.useEffect)((function(){!function(){var e=localStorage.getItem("jwt");e?F.getUserData(e).then((function(e){M(!0),te({email:e.data.email,id:e.data._id})})).catch((function(e){return console.error(e.message)})).finally((function(){ce(!0)})):ce(!0)}(),k.getUserData().then(y).catch((function(e){return console.error(e.message)})),k.getInitialCards().then(V).catch((function(e){return console.error(e.message)}))}),[]),Object(n.jsx)(b.Provider,{value:R,children:Object(n.jsxs)("div",{className:"page",children:[Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(f,{email:ee.email,onSignout:function(){localStorage.clear(),M(!1)}}),Object(n.jsx)(E,{isChecked:se,children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{path:"/sign-up",children:Object(n.jsx)(N,{onRegister:function(e,t){return F.register(e,t)},loggedIn:K})}),Object(n.jsx)(u.b,{path:"/sign-in",children:Object(n.jsx)(B,{onLogin:function(e,t){return F.login(e,t).then((function(e){localStorage.setItem("jwt",e.token)}))},loggedIn:K,setLoggedIn:M})}),Object(n.jsx)(D,{loggedIn:K,path:"/",component:j,onEditProfile:function(){c(!0)},onAddPlace:function(){A(!0)},onEditAvatar:function(){C(!0)},onCardClick:function(e){J(e)},cards:I,onCardLike:function(e,t){var a=t?"DELETE":"PUT";k.switchLike(e,a).then((function(t){var a=I.map((function(a){return a._id===e._id?t:a}));V(a)})).catch((function(e){return console.error(e.message)}))},onCardDelete:function(e){Q(e)}})]})}),Object(n.jsx)(d,{})]}),Object(n.jsx)(w,{onClose:re,card:T}),Object(n.jsx)(v,{isOpen:a,onClose:re,onUpdateUser:function(e){k.setUserData(e).then((function(e){y(e),c(!1)})).catch((function(e){return console.error(e.message)}))}}),Object(n.jsx)(g,{isOpen:p,onClose:re,onAddPlace:function(e){k.addCard(e).then((function(e){V([e].concat(Object(o.a)(I))),A(!1)})).catch((function(e){return console.error(e.message)}))}}),Object(n.jsx)(x,{isOpen:P,onClose:re,onUpdateAvatar:function(e){k.addAvatar(e).then((function(e){y(e),C(!1)})).catch((function(e){return console.error(e.message)}))}}),Object(n.jsx)(O,{card:L,onClose:re,onDeleteCard:function(e,t){t.preventDefault(),k.deleteCard(e).then((function(){var t=I.filter((function(t){return t._id!==e._id}));V(t),Q(!1)})).catch((function(e){return console.error(e.message)}))}})]})})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,37)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(p.a,{children:Object(n.jsx)(S,{})})}),document.getElementById("root")),X()}},[[36,1,2]]]);
//# sourceMappingURL=main.c5ad8c05.chunk.js.map